// Evol scripts.
// Author:
//    Reid
// Description:
//    Door NPC.
//    The third value of the Q variable has been removed for the beta2, it'll then be re-added for the Aurora release.
// Variable:
//    0 ShipQUests_Nard
//    1 ShipQuests_Julia
// Values: 
//    00   Introduction of the box and Nard. This is displayed when the player never spoke to Nard or his box.
//    01   Nard spoke and gave access to the outdoor of the ship.
//    02   Completed the quest.
//    03   Opened the chest and finished the introduction.
//    10   Doesnt' know Julia.
//    11   Registred to Julia.
//    12   Need to see Julia.
000-2-0.gat,20,27,0,1	script	AreaNPC	0,0,0,{

OnTouch:
    set @nard, getq(ShipQuests_Nard);
    if (@nard > 0) goto l_Warp;
//  if (@nard == 2) goto l_GotoNard;
//  if (@nard == 3) goto l_End;
    close;

    setcamnpc "Julia";
    mesn "Julia";
    mesq l("The captain has locked the door, you should go see him.");
    next;

    mesn "Narrator";
    mes col(l("Captain Nard is in the room to your right."), 9);
    restorecam;

    close;

l_Warp:
    warp "000-1", 93, 100;
    close;

l_GotoNard:
    setcamnpc "Julia";
    mesn "Julia";
    mesq l("The captain is waiting for you! Hurry up.");
    next;
    restorecam;

    close;

l_End:
    mesn "Narrator";
    mes col(l("The door is locked."), 9);
    close;

}

000-2-0.gat,32,27,0,1	script	AreaNPC	0,0,0,{
    set @julia, getq(ShipQuests_Julia);
    if (@julia == 1) goto l_Warp;
    close;

l_Warp:
    warp "000-2-3", 20, 27;
    close;
}
